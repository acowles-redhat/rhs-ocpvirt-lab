<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Network Management :: Experience Red Hat OpenShift Virtualization</title>
    <link rel="prev" href="module-02.html">
    <link rel="next" href="module-04.html">
    <meta name="generator" content="Antora 3.1.7">
<link rel="stylesheet" href="../_/css/site.css"><link rel="icon" href="../_/img/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="icon" href="https://demo.redhat.com/images/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar"  style="background-color: #131313 !important;">
    <div class="navbar-brand">
      <div style="display: flex; flex-direction:row; padding: 12px 32px; gap: 16px;">
        <img src="https://www.redhat.com/rhdc/managed-files/Red-Hat-Summit-logo.svg" alt="Red Hat Summit logo" width="90px" class="hero-summit-logo dx-block dx-mb-1">
        <img src="https://gpte-public.s3.amazonaws.com/rh-ansiblefest-2021-logo-pool-reverse-rgb_0.svg" alt="AnsibleFest logo" width="auto" class="hero-ansiblefest-logo dx-block dx-mb-2">
      </div>
      <a class="navbar-item site-title" target="__blank" style="color: #fff !important;" href="..">Experience Red Hat OpenShift Virtualization</a>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
      </div>
    </div>
  </nav>
</header>
    <div class="body">
<div class="nav-container" data-component="modules" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title" style="display: none;"><a href="index.html" class=" query-params-link">Sample Module Title</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="module-00.html">1. Virtual Machine Management </a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-00.html#create_project">Create a New Project</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-00.html#create_vm">Create a Linux Virtual Machine</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-00.html#admin_vms">Administering Virtual Machines</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-00.html#vm_state">Controlling Virtual Machine State</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-00.html#live_migrate">Live Migrate a Virtual Machine</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="module-01.html">2. Bare Metal Management </a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-01.html#review_nodes">Review Nodes and Machines</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-01.html#review_hosts">Review Bare Metal Hosts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-01.html#scaling_cluster">Scaling the Cluster with a New Bare Metal Host</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="module-02.html">3. Storage Management</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-02.html#examine_pvc">Examine the PVC for a VM</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-02.html#managing_snapshots">Managing Snapshots</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-02.html#clone_vm">Clone a Virtual Machine</a>
  </li>
</ul>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="module-03.html">4. Network Management</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#create_netattach">Create a Network Attachment Definition</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#connect_external_net">Connect a Virtual Machine to an External Network</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#multinetwork_policy">Using a Multinetwork Policy</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="module-04.html">5. Template Management</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-04.html#clone_customize_template">Clone and Customize a Template</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-04.html#create_win">Create a Windows VM Template</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="module-05.html">6. Migrating Virtual Machines</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-05.html#prerequisites">Prerequisites for Migrations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="module-05.html#migrating_vms">Migrating Virtual Machines from VMware</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore" style="display: none;">
  <div class="context">
    <span class="title">Sample Module Title</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Sample Module Title</span>
      <ul class="versions">
        <li class="version is-current">
          <a href="index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="module-03.html">4. Network Management</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Network Management</h1>
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, all virtual machines are attached to the OpenShift software-defined network (SDN), which enables access from other workloads on the OpenShift cluster, including other VMs and any OpenShift native applications.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The SDN provides additional features for abstracting, connecting, and exposing applications in a controlled manner, whether deployed as VMs or Pods in the cluster. These include the <code>Service</code> and <code>Route</code> features of OpenShift.</p>
</li>
<li>
<p>OpenShift&#8217;s network policy engine allows the VM user or administrator to create rules which allow or deny network traffic to and from individual VMs or entire projects/namespaces.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>However, virtual machines may also connect directly to one or more external networks, such as VLANs, when needed. This is in addition to the SDN, which means that, for example, the administrator can connect to the VM from an external IP address, but the application communicates across the SDN with other VMs hosted by OpenShift Virtualization.</p>
</div>
<div class="paragraph">
<p>At a high level, this is done by configuring the host networking, by creating a <strong>NodeNetworkConfigurationPolicy</strong> such as creating a mode 4 (LACP) bond and a OVS bridge on top. With this networking infrastructure set up, we can define <strong>NetworkAttachmentDefinitions</strong> to allow VMs to connect to that bridge, and therefore, directly to the external network. The next section in this lab will cover those steps.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The OpenShift environment has already been configured with an OVS Bridge on each compute node your virtual machines will connect to, thus allowing for easy connectivity with/from outside network resources.
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Goals</div>
<ul>
<li>
<p>Create a network attachment definition</p>
</li>
<li>
<p>Connect a VM to the external network</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create_netattach"><a class="anchor" href="#create_netattach"></a>Create a Network Attachment Definition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to use the OVS Bridge with your VM you need to create a <strong>Network Attachment Definition</strong>. This is what tells OpenShift about the network and allows the virtual machines to connect to it. Network Attachment Definitions are specific to the project/namespace they&#8217;re created in, unless they&#8217;re created in the <code>default</code> project. This gives you, the administrator, the ability to control which networks are and aren&#8217;t available to users who have access to manage their own VMs. Once the Network Attachment Definition has been created, it can then be used by virtual machines when configuring their network adapters.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A network attachment definition instructs openshift to utilise an existing network device. In our case that device was previously created and is named ovs-br1. You must use that name or OpenShift wonâ€™t be able to place your VM on any compute nodes as it can only utilise nodes with that specifically named network device on it.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>How is this done?</p>
</div>
<div class="paragraph">
<p>To manage an OpenShift node&#8217;s network configuration you use a tool, available as an operator, called nmstate. With nmstate you can create network interfaces on OpenShift compute nodes using Kubernetes constructs or the <strong>NodeNetworkConfigurationPolicy</strong> wizard available in the OpenShift console. You can create devices and customize those so that they follow the naming conventions that suit your needs, and your network requirements. For more info about nmstate, and to learn more about the host networking and how to view and manage the configuration, see the <a href="https://docs.openshift.com/container-platform/4.15/networking/k8s_nmstate/k8s-nmstate-about-the-k8s-nmstate-operator.html">documentation here</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to <strong>Networking</strong> &#8594; <strong>Network Attachment Definitions</strong> and click <strong>Create network attachment definition</strong>:</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-03/01_NAD_Dashboard.png" target="blank"><img src="_images/module-03/01_NAD_Dashboard.png" alt="01 NAD Dashboard" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Click the <strong>Edit YAML</strong> button at the top of the page.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-03/02_NAD_Create.png" target="blank"><img src="_images/module-03/02_NAD_Create.png" alt="02 NAD Create" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Paste in the following yaml snippet, and click the Create button:</p>
<div class="listingblock">
<div class="content">
<pre>apiVersion: k8s.cni.cncf.io/v1
kind: NetworkAttachmentDefinition
metadata:
  annotations:
    description: l2 connection for vms
  name: vlan0
  namespace: vmexamples
spec:
  config: |-
    {
      "cniVersion": "0.4.0",
      "name": "vm-network",
      "type": "ovn-k8s-cni-overlay",
      "topology": "localnet",
      "netAttachDefName": "vmexamples/vlan0"
    }</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-03/03_NAD_YAML.png" target="blank"><img src="_images/module-03/03_NAD_YAML.png" alt="03 NAD YAML" width="100%"></a>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In most cases a single OVS bridge can support many Network Attachment Definitions each with their own designated <code>VLAN Tag Number</code>. In this lab we use an untagged network, so no VLAN number is required here, as such our Network Attachment Definition is labeled as vlan0.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Examine the details of the network attachment definition. Because this was created in the <code>vmexamples</code> project, it will be available only to attach to VMs that are in that project.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-03/04_NAD_Created.png" target="blank"><img src="_images/module-03/04_NAD_Created.png" alt="04 NAD Created" width="100%"></a>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="connect_external_net"><a class="anchor" href="#connect_external_net"></a>Connect a Virtual Machine to an External Network</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to <strong>Virtualization</strong> &#8594; <strong>VirtualMachines</strong>, select the <code>fedora01</code> VM. Click <strong>Configuration</strong> tab and then click the <strong>Network</strong> subtab:</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-03/05_VM_Network_Tab.png" target="blank"><img src="_images/module-03/05_VM_Network_Tab.png" alt="05 VM Network Tab" width="100%"></a>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Notice that the VM is currently using a single interface <strong>default</strong> which is connected to the  <strong>Pod networking</strong> network. We can choose to modify this existing connection or add a new interface to the VM. Either action we choose currently requires a VM restart.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Click the three-dot menu at the end of the <strong>default</strong> network adapter line, and click on edit in the drop down menu.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-03/06_Edit_Default.png" target="blank"><img src="_images/module-03/06_Edit_Default.png" alt="06 Edit Default" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Click the dropdown menu for the <strong>Network</strong> field, and select the vmexamples/vlan0 network attachment definition that we created. Click on <strong>Save</strong>.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-03/07_VM_Net_Modify.png" target="blank"><img src="_images/module-03/07_VM_Net_Modify.png" alt="07 VM Net Modify" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Use the <strong>Actions</strong> menu or icon in the upper right corner to restart the VM. After rebooting, navigate to the <strong>Overview</strong> tab:</p>
</li>
<li>
<p>Once the machine restarts, you can see in the <strong>Network Interfaces</strong> section of the <strong>Overview</strong> screen that the <code>default</code> interface obtains a DHCP IP address from the flat network (<code>192.168.3.x/24</code>).</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-03/08_New_IP_Address.png" target="blank"><img src="_images/module-03/08_New_IP_Address.png" alt="08 New IP Address" width="100%"></a>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Before the next section of this lab, please repeat the actions to attach the fedora02 VM to the same vlan0 network.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="multinetwork_policy"><a class="anchor" href="#multinetwork_policy"></a>Using a MultiNetwork Policy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A multinetwork policy allows you to configure network access to a namespace and to define granular rules allowing ingress and egress from the namespace to enhance security of the applications and VMs that are running in the namespace.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This section of the lab is primarily performed through the CLI. You will need to ssh to your Bastion host where the CLI tools are already installed. Use the SSH Terminal on the right to connect to your bastion host <code>sudo ssh root@192.168.123.100</code>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_create_a_multinetwork_policy"><a class="anchor" href="#_create_a_multinetwork_policy"></a>Create a MultiNetwork Policy</h3>
<div class="paragraph">
<p>For this section of the lab we are going to create a <strong>MultiNetwork Policy</strong> that prevents all network traffice from reaching the VM&#8217;s that are attached to our vmexamples/vlan0 <strong>Network Attachment Definition</strong> including our VMs fedora01, and fedora02. We will then explictly allow one-way connectivity from fedora02 to fedora01 to show how we can find tune network connections, even within the same namespace.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The IP addresses of your virtual guests may differ from those in the attached images or examples, verify the correct addresses present in your lab environment by clicking on the Overview screen for each VM and taking a look at the <code>Network interfaces</code> tile.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-03/10_Find_IP_Addresses.png" target="blank"><img src="_images/module-03/10_Find_IP_Addresses.png" alt="10 Find IP Addresses" width="100%"></a>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>From our bastion host we want to paste the following content into a new file called deny-all.yaml:</p>
<div class="listingblock">
<div class="content">
<pre>apiVersion: k8s.cni.cncf.io/v1beta1
kind: MultiNetworkPolicy
metadata:
  name: deny-by-default
  annotations:
    k8s.v1.cni.cncf.io/policy-for: vmexamples/vlan0
spec:
  podSelector: {}
  policyTypes:
  - Ingress
  ingress: []</pre>
</div>
</div>
</li>
<li>
<p>Once the file is saved, start a ping to the IP address of the <code>fedora01</code> virtual machine to confirm that you can currently connect.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-03/11_Bastion_Ping.png" target="blank"><img src="_images/module-03/11_Bastion_Ping.png" alt="11 Bastion Ping" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Apply the multinetwork policy with the following syntax:</p>
<div class="listingblock">
<div class="content">
<pre>oc apply -f deny-all.yaml -n vmexamples</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-03/12_Deny_All_Applied.png" target="blank"><img src="_images/module-03/12_Deny_All_Applied.png" alt="12 Deny All Applied" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Now try again to ping the IP address of the fedora01 virtual machine, your ping attempts should now fail.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-03/13_Bastion_Ping_Fail.png" target="blank"><img src="_images/module-03/13_Bastion_Ping_Fail.png" alt="13 Bastion Ping Fail" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Return to your OpenShift console, and click on <code>Virtualization &#8594; VirtualMachines</code> and select your <code>fedora02</code> machine.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-03/14_Fedora02_Overview.png" target="blank"><img src="_images/module-03/14_Fedora02_Overview.png" alt="14 Fedora02 Overview" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Click on the button to open it&#8217;s web console, and login with the provided credentials.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-03/15_Fedora02_Console.png" target="blank"><img src="_images/module-03/15_Fedora02_Console.png" alt="15 Fedora02 Console" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Attempt to ping the ip address for the <code>fedora01</code> virtual machine, notice that it is also blocked, even though we are on the same subnet, in the same namespace. <strong>Leave the ping running.</strong></p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-03/16_Fedora02_Ping_Fail.png" target="blank"><img src="_images/module-03/16_Fedora02_Ping_Fail.png" alt="16 Fedora02 Ping Fail" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Return to the bastion host console, and create a new file called allow-host.yaml, and paste in the following content:</p>
<div class="listingblock">
<div class="content">
<pre>apiVersion: k8s.cni.cncf.io/v1beta1
kind: MultiNetworkPolicy
metadata:
  name:  ingress-ipblock
  annotations:
    k8s.v1.cni.cncf.io/policy-for: vmexamples/vlan0
spec:
  podSelector: {}
  policyTypes:
  - Ingress
  ingress:
  - from:
    - ipBlock:
        cidr: &lt;IP_ADDR_FROM_FEDORA02&gt;/32</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Make sure that you substitute the correct IP from the Fedora02 VM.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-03/17_Allow_Host_Syntax.png" target="blank"><img src="_images/module-03/17_Allow_Host_Syntax.png" alt="17 Allow Host Syntax" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Apply the policy using the following syntax:</p>
<div class="listingblock">
<div class="content">
<pre>oc apply -f allow-host.yaml -n vmexamples</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-03/18_Allow_Host_Applied.png" target="blank"><img src="_images/module-03/18_Allow_Host_Applied.png" alt="18 Allow Host Applied" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Attempt to ping from the bastion host. This attempt should still fail as we have not explictly allowed it.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-03/19_Bastion_Still_Blocked.png" target="blank"><img src="_images/module-03/19_Bastion_Still_Blocked.png" alt="19 Bastion Still Blocked" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Return to your <code>fedora02</code> VM console, you should find that the ping has now resumed successfully.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="_images/module-03/20_Fedora02_Ping_Allowed.png" target="blank"><img src="_images/module-03/20_Fedora02_Ping_Allowed.png" alt="20 Fedora02 Ping Allowed" width="100%"></a>
</div>
</div>
</li>
<li>
<p>Let&#8217;s clean up the policies for the next section.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
For the next lab, it&#8217;s important that we clear out the two network policies we created.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Please run the following two commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>oc delete -f allow-host.yaml -n vmexamples
oc delete -f deny-all.yaml -n vmexamples</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_summary"><a class="anchor" href="#_summary"></a>Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section we learned a little bit more about how networking works in OpenShift Virtualization. We created a network attachment definition so that our VMs have network access from outside of the cluster. We also implemented a MultiNetwork Policy to demonstrate how we can secure connections to our VMs by only allowing specified hosts access.</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="module-02.html" class="query-params-link">3. Storage Management</a></span>
  <span class="next"><a href="module-04.html" class="query-params-link">5. Template Management</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <a href="https://demo.redhat.com" target="_blank" class="poweredBy"><p>Powered by</p><div class="labInfo_poweredBy" style="display: block; width: 260px;"><svg class="labInfo_poweredByLogo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1508.5 178.739"><g fill="#111"><path d="M316.6 63.2v-56H342a21.279 21.279 0 0 1 7.8 1.3 18.111 18.111 0 0 1 5.9 3.5 15.577 15.577 0 0 1 5 11.8 15.051 15.051 0 0 1-3.1 9.5 16.836 16.836 0 0 1-8.4 5.8l12.5 24.1h-9.3l-11.6-23H325v23Zm24.7-48.6H325v18.7h16.3q5.25 0 8.1-2.7a8.7 8.7 0 0 0 2.8-6.6 8.7 8.7 0 0 0-2.8-6.6c-1.8-1.9-4.5-2.8-8.1-2.8ZM364.1 42.8a20.674 20.674 0 0 1 1.6-8.2 20.288 20.288 0 0 1 4.3-6.7 19.92 19.92 0 0 1 6.5-4.5 19.718 19.718 0 0 1 8-1.6 18.463 18.463 0 0 1 7.8 1.6 18.677 18.677 0 0 1 6.2 4.5 20.927 20.927 0 0 1 4.1 6.8 23.2 23.2 0 0 1 1.5 8.4v2.3H372a13.822 13.822 0 0 0 4.6 8.4 13.6 13.6 0 0 0 9.1 3.3 15.553 15.553 0 0 0 5.7-1 12.858 12.858 0 0 0 4.6-2.6l5.1 5a25.983 25.983 0 0 1-7.4 4.1 24.69 24.69 0 0 1-8.4 1.3 21.306 21.306 0 0 1-8.4-1.6 22.763 22.763 0 0 1-6.8-4.4 20.788 20.788 0 0 1-4.5-6.7 23.2 23.2 0 0 1-1.5-8.4Zm20.2-14.2a11.527 11.527 0 0 0-8 3 13.046 13.046 0 0 0-4.2 7.8h24.2a13.091 13.091 0 0 0-4.2-7.8 11.106 11.106 0 0 0-7.8-3ZM443.1 63.2v-3.8a19.448 19.448 0 0 1-5.8 3.3 18.924 18.924 0 0 1-6.7 1.2 19.824 19.824 0 0 1-14.6-6.1 22.268 22.268 0 0 1-4.4-6.7 21.812 21.812 0 0 1 0-16.4A20.534 20.534 0 0 1 416 28a19.335 19.335 0 0 1 6.6-4.5 20.334 20.334 0 0 1 8.2-1.6 20.7 20.7 0 0 1 6.6 1 19.415 19.415 0 0 1 5.7 3V7.2l8-1.8v57.8Zm-25.2-20.4a13.718 13.718 0 0 0 4 10.1 13.45 13.45 0 0 0 9.8 4.1 14.956 14.956 0 0 0 6.4-1.3 15.954 15.954 0 0 0 4.9-3.6V33.6a14.988 14.988 0 0 0-4.9-3.5 15.271 15.271 0 0 0-6.4-1.3 13.423 13.423 0 0 0-9.9 4 13.806 13.806 0 0 0-3.9 10ZM478.1 63.2v-56h8.4v24h29.8v-24h8.4v56h-8.4V38.8h-29.8v24.4ZM547.2 64a16.483 16.483 0 0 1-10.8-3.5 11.037 11.037 0 0 1-4.2-8.9 10.375 10.375 0 0 1 4.7-9.2 20.76 20.76 0 0 1 11.8-3.2 27.841 27.841 0 0 1 5.8.6 27.374 27.374 0 0 1 5.3 1.6v-4.3a8.143 8.143 0 0 0-2.6-6.5 11.452 11.452 0 0 0-7.4-2.2 20.788 20.788 0 0 0-6 .9 34.616 34.616 0 0 0-6.6 2.6l-3-6a54.169 54.169 0 0 1 8.4-3.1 33.18 33.18 0 0 1 8.3-1.1c5.2 0 9.3 1.3 12.2 3.8s4.4 6.1 4.4 10.8v27h-7.8v-3.5a19.441 19.441 0 0 1-5.8 3.2 23.54 23.54 0 0 1-6.7 1Zm-7.3-12.6a5.646 5.646 0 0 0 2.6 4.8 11.193 11.193 0 0 0 6.6 1.8 16.256 16.256 0 0 0 5.9-1 14.449 14.449 0 0 0 4.9-2.9V47a19.778 19.778 0 0 0-4.8-1.8 24.933 24.933 0 0 0-5.7-.6 11.859 11.859 0 0 0-6.8 1.8 5.728 5.728 0 0 0-2.7 5ZM580.6 53.2v-24H572v-6.7h8.6V12.1l7.9-1.9v12.3h12v6.7h-12v22.1a5.94 5.94 0 0 0 1.4 4.4c.9.9 2.5 1.3 4.6 1.3a23.637 23.637 0 0 0 3-.2 10.857 10.857 0 0 0 2.8-.8v6.7a19.28 19.28 0 0 1-3.8.9 27.484 27.484 0 0 1-3.8.3c-3.9 0-7-.9-9-2.8-2-1.7-3.1-4.4-3.1-7.9Z"></path></g><path d="M127 90.2c12.5 0 30.6-2.6 30.6-17.5a12.678 12.678 0 0 0-.3-3.4L149.8 37c-1.7-7.1-3.2-10.3-15.7-16.6-9.7-5-30.8-13.1-37.1-13.1-5.8 0-7.5 7.5-14.4 7.5-6.7 0-11.6-5.6-17.9-5.6-6 0-9.9 4.1-12.9 12.5 0 0-8.4 23.7-9.5 27.2a4.216 4.216 0 0 0-.3 1.9c0 9.2 36.3 39.4 85 39.4Zm32.5-11.4c1.7 8.2 1.7 9.1 1.7 10.1 0 14-15.7 21.8-36.4 21.8-46.8 0-87.7-27.4-87.7-45.5a17.535 17.535 0 0 1 1.5-7.3C21.8 58.8 0 61.8 0 81c0 31.5 74.6 70.3 133.7 70.3 45.3 0 56.7-20.5 56.7-36.6-.1-12.8-11-27.3-30.9-35.9Z" fill="#e00"></path><path d="M159.5 78.8c1.7 8.2 1.7 9.1 1.7 10.1 0 14-15.7 21.8-36.4 21.8-46.8 0-87.7-27.4-87.7-45.5a17.535 17.535 0 0 1 1.5-7.3l3.7-9.1a4.877 4.877 0 0 0-.3 2c0 9.2 36.3 39.4 85 39.4 12.5 0 30.6-2.6 30.6-17.5a12.678 12.678 0 0 0-.3-3.4Z"></path><path d="M253.5 158.7a2.22 2.22 0 0 1-2.2-2.2V2.2a2.2 2.2 0 0 1 4.4 0v154.2a2.242 2.242 0 0 1-2.2 2.3Z" fill="#111"></path><text data-name="Demo Platform" transform="translate(1186 149)" fill="#111" font-size="82" font-family="'RedHatDisplay', 'Overpass', overpass, helvetica, arial, sans-serif" font-weight="700"><tspan x="-877.892" y="0">Demo Platform</tspan></text></svg></div></a>
</footer>
<script src="../_/js/vendor/clipboard.js"></script>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
